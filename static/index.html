<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <title>WebPush Test</title>
    <script src="webpush.js"></script>
</head>

<body>
    <div>
        <span id='pushmsg'></span>
        <table>
            <tr>
                <th>Endpoint</th>
                <td><span id='endpoint'></span></td>
            </tr>
            <tr>
                <th>Auth</th>
                <td><span id='auth'></span></td>
            </tr>
            <tr>
                <th>p256dh</th>
                <td><span id='p256dh'></span></td>
            </tr>
            <tr>
                <th colspan=2>↓コマンドプロンプト、ターミナルにコピペ↓</th>
            </tr>
            <tr>
                <td colspan=2><span id='command'></span></td>
            </tr>
        </table>

        <button onclick='_updateSw()'>
            <span id=''>Update ServiceWorker</span>
        </button>
    </div>
    <script>
        async function _updateSw() {
            const registration = await navigator.serviceWorker.getRegistration();
            registration.update();
        }

    </script>
</body>


</html>